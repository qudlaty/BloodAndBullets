import{j as n}from"./jsx-runtime-BjgbQsUx.js";import{d as x,e as g,W as _}from"./InfoPanel-D_MNkzzn.js";import{I as f}from"./InfoPanelSwitchButton-BT22HSZM.js";function u(e){let a=`linear-display ${e.className||""}`,r=~~(e.current*100/e.max);const s=r>100,o=r<0;s&&(r=100,a+=" linear-display--overloaded"),o&&(r=0);const c={width:`${r}%`},d=e.title||`${e.current}/${e.max}`;let l=e.current,t=1;e.max>=40&&e.max<100?t=5:e.max>=100&&(t=10),l=l/t;const i=100/l;let m="rgba(200,200,200,0.4)";m="black";const y={backgroundSize:`${i}% 100%`,backgroundImage:`
      linear-gradient(to left, ${m} 1px, transparent 1px)
    `};return Object.assign(c,y),n.jsxs("div",{className:a,children:[n.jsxs("div",{className:"linear-display__label",children:[e.label,e.label?":":""," "]}),n.jsx("div",{className:"linear-display__bar-container",title:d,children:n.jsx("div",{className:"linear-display__bar-progress",style:c,children:n.jsxs("span",{className:"linear-display__bar-progress-text",children:[e.current,s?"/"+e.max:""," "]})})}),n.jsx("div",{children:" "})]})}u.__docgenInfo={description:"",methods:[],displayName:"LinearDisplay",props:{className:{required:!1,tsType:{name:"string"},description:""},current:{required:!0,tsType:{name:"number"},description:""},max:{required:!0,tsType:{name:"number"},description:""},title:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""}}};function b(e){const{item:a}=e,r="Interact",s="inventory-item";let o,c,d,l;if(e.onDrop&&(c=n.jsx("button",{className:`
          ${s+"__button"}
          ${s+"__button-drop"}
        `,onClick:()=>{e.onDrop(a.name)},children:"Drop ↘"})),e.onInteract&&(d=n.jsx("button",{className:`
          ${s+"__button"}
          ${s+"__button-interact"}
        `,onClick:()=>e.onInteract(a.name),children:e.interactButtonText||r})),a instanceof x){const t=a;if(t.reload&&e.onReload&&!(a instanceof g)){let i=`${s}__button-reload`;t.charges===0||t.charges==="empty"?i+=` ${i}--empty`:t.charges<t.maxCharges&&(i+=` ${i}--partial`);const m=`${s}__button `+i;o=n.jsxs("button",{className:m,onClick:()=>{e.onReload&&e.onReload(t),e.processInterface&&e.processInterface()},children:["Reload (",t.reloadCostInAP,"AP)"]})}else o=null;l=t.reload&&e.shorterDisplay?` (${t.charges})`:n.jsx(u,{className:"full",label:t.type==_.energy?"Charges":"Rounds",current:t.charges,max:t.maxCharges})}return n.jsxs("div",{className:"inventory-item",children:[n.jsxs("div",{className:"inventory-item__body",children:[n.jsx("span",{children:a.name}),l,n.jsx(f,{item:a})]},a.name),n.jsxs("div",{className:"inventory-item__button-group",children:[o,d,c]})]},a.id)}b.__docgenInfo={description:"",methods:[],displayName:"InventoryItem",props:{item:{required:!0,tsType:{name:"Item"},description:""},interactButtonText:{required:!1,tsType:{name:"string"},description:""},shorterDisplay:{required:!1,tsType:{name:"boolean"},description:""}}};export{b as I,u as L};
